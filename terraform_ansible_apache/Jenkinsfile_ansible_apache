pipeline {
	agent any
	stages {
		stage('Git Clone') {
			steps {
				git ([url: "https://github.com/samodev/Projet_finale.git", branch: 'master' ])
			}
		}
		stage('checkout') {
			steps { 
				 sh "git checkout master"
			}
		}
		stage('change directory') {
		    steps {
		        sh "cd terraform_ansible_apache"
		    }
		}
		stage('ansible-playbook') {
			steps {
				sh "sudo su && ansible-playbook terraform_ansible_apache/installApache.yml"
			}
		}	
	}
}
